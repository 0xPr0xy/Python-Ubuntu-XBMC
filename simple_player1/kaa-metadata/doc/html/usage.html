<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Usage &mdash; kaa.metadata v0.7.6 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.7.6',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="kaa.metadata v0.7.6 documentation" href="index.html" />
    <link rel="next" title="Parser" href="parser.html" />
    <link rel="prev" title="kaa.metadata" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="parser.html" title="Parser"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="kaa.metadata"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">kaa.metadata v0.7.6 documentation</a> &raquo;</li> 
      </ul>
    </div>  
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>The usage is very simple, you only need to call the &#8220;parse&#8221; function
with the filename as parameter to get a MediaInfo object back (or
None, if the media can&#8217;t be detected. Detection of discs like an audio
cd, vcd or dvd works only with linux right now. Please send us a patch
if you can get it working with BSD, MaxOS or Windows. The DVD parser
needs libdvdread to be installed.</p>
<p>All internal data is unicode.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">kaa.metadata</span>
<span class="n">info</span> <span class="o">=</span> <span class="n">kaa</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;movie.avi&#39;</span><span class="p">)</span>
<span class="n">disc</span> <span class="o">=</span> <span class="n">kaa</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;/dev/dvd&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The result of the parse function is a parser object inherting from a
Media class.</p>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<p>The result behaves like a read-only dict in Python with some
additional methods depending on the parser used. The following
methods are available.</p>
<dl class="method">
<dt id="metadata.core.Media.get">
<!--[metadata.core.Media.get]--><tt class="descclassname">Media.</tt><tt class="descname">get</tt><big>(</big><em>attr</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#metadata.core.Media.get" title="Permalink to this definition">¶</a></dt>
<dd>Returns the given attribute. If the attribute is not set by
the parser return &#8216;default&#8217;.</dd></dl>

<dl class="method">
<dt id="metadata.core.Media.__getitem__">
<!--[metadata.core.Media.__getitem__]--><tt class="descclassname">Media.</tt><tt class="descname">__getitem__</tt><big>(</big><em>attr</em><big>)</big><a class="headerlink" href="#metadata.core.Media.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd>Get the value of the given attribute</dd></dl>

<dl class="method">
<dt id="metadata.core.Media.has_key">
<!--[metadata.core.Media.has_key]--><tt class="descclassname">Media.</tt><tt class="descname">has_key</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#metadata.core.Media.has_key" title="Permalink to this definition">¶</a></dt>
<dd>Check if the object has an attribute &#8216;key&#8217;</dd></dl>

<dl class="method">
<dt id="metadata.core.Media.keys">
<!--[metadata.core.Media.keys]--><tt class="descclassname">Media.</tt><tt class="descname">keys</tt><big>(</big><big>)</big><a class="headerlink" href="#metadata.core.Media.keys" title="Permalink to this definition">¶</a></dt>
<dd>Return all keys for the attributes set by the parser.</dd></dl>

<dl class="method">
<dt id="metadata.core.Media.convert">
<!--[metadata.core.Media.convert]--><tt class="descclassname">Media.</tt><tt class="descname">convert</tt><big>(</big><big>)</big><a class="headerlink" href="#metadata.core.Media.convert" title="Permalink to this definition">¶</a></dt>
<dd>Convert Media to dict.</dd></dl>

<p>The list of keys the Media object supports depends on the type of
parser. E.g. a video parser supports the attribute audio for the audio
track information while an image parser does not provide that
information.</p>
</div>
<div class="section" id="attributes-keys">
<h2>Attributes / Keys<a class="headerlink" href="#attributes-keys" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="Media.table">
<!--[Media.table]--><tt class="descclassname">Media.</tt><tt class="descname">table</tt><a class="headerlink" href="#Media.table" title="Permalink to this definition">¶</a></dt>
<dd>Some parsers add additional information in the <cite>tables</cite> attribute of
the result. This variable contains he EXIF header for JPEG images,
the full list of ID3 tags for mp3 files and much more. The tables
depend on the parsers and on the files parsed.</dd></dl>

<dl class="attribute">
<dt id="Media.media">
<!--[Media.media]--><tt class="descclassname">Media.</tt><tt class="descname">media</tt><a class="headerlink" href="#Media.media" title="Permalink to this definition">¶</a></dt>
<dd>Defines the basic media type.</dd></dl>

<p>Based on the media type the object has additional member
variables. These are also the keys in the dict. If you checked <cite>media</cite>
to be MEDIA_IMAGE, you can be sure that the object has an attribute
<cite>people</cite> (but it may be None).</p>
<p><strong>Media Core</strong>: Basic sets of attributes most media objects have</p>
<blockquote>
Attributes: <cite>title</cite>, <cite>caption</cite>, <cite>comment</cite>, <cite>size</cite>, <cite>type</cite>,
<cite>subtype</cite>, <cite>timestamp</cite>, <cite>keywords</cite>, <cite>country</cite>, <cite>language</cite>,
<cite>langcode</cite>, <cite>url</cite>, <cite>media</cite>, <cite>artist</cite>, <cite>mime</cite></blockquote>
<p><strong>MEDIA_IMAGE</strong>: Image file</p>
<blockquote>
Attributes: Core attributes, <cite>description</cite>, <cite>people</cite>, <cite>location</cite>,
<cite>event</cite>, <cite>width</cite>, <cite>height</cite>, <cite>thumbnail</cite>, <cite>software</cite>, <cite>hardware</cite>,
<cite>dpi</cite>, <cite>city</cite>, <cite>rotation</cite>, <cite>author</cite></blockquote>
<p><strong>MEDIA_AUDIO</strong> Audio file or stream:</p>
<blockquote>
<p>Attributes: Core attributes, <cite>channels</cite>, <cite>samplerate</cite>, <cite>length</cite>,
<cite>encoder</cite>, <cite>codec</cite>, <cite>format</cite>, <cite>samplebits</cite>, <cite>bitrate</cite>, <cite>fourcc</cite>,
<cite>trackno</cite>, <cite>id</cite>, <cite>userdate</cite></p>
<p>Additional attributes for stand-alone audio files not inside a
container: <cite>trackof</cite>, <cite>album</cite>, <cite>genre</cite>, <cite>discs</cite>, <cite>thumbnail</cite></p>
</blockquote>
<p><strong>MEDIA_AV</strong>: A/V container with audio and video content</p>
<blockquote>
<p>Attributes: Core attributes, <cite>length</cite>, <cite>encoder</cite>, <cite>trackno</cite>,
<cite>trackof</cite>, <cite>copyright</cite>, <cite>product</cite>, <cite>genre</cite>, <cite>writer</cite>, <cite>producer</cite>,
<cite>studio</cite>, <cite>rating</cite>, <cite>starring</cite>, <cite>thumbnail</cite>, <cite>delay</cite>, <cite>image</cite>,
<cite>video</cite>, <cite>audio</cite>, <cite>subtitles</cite>, <cite>chapters</cite>, <cite>software</cite></p>
<p>The attributes <cite>video</cite>, <cite>audio</cite>, <cite>subtitles</cite> and <cite>chapters</cite> are
lists with additional media objects of different types.</p>
<p><strong>MEDIA_VIDEO</strong>: Video stream inside MEDIA_AV</p>
<blockquote>
Attributes: Core attributes, <cite>length</cite>, <cite>encoder</cite>, <cite>bitrate</cite>,
<cite>samplerate</cite>, <cite>codec</cite>, <cite>format</cite>, <cite>samplebits</cite>, <cite>width</cite>, <cite>height</cite>,
<cite>fps</cite>, <cite>aspect</cite>, <cite>trackno</cite>, <cite>fourcc</cite>, <cite>id</cite></blockquote>
<p><strong>MEDIA_CHAPTER</strong>: Chapter in a container (e.g. MEDIA_AV)</p>
<blockquote>
Attributes: <cite>name</cite>, <cite>pos</cite>, <cite>enabled</cite>, <cite>id</cite></blockquote>
<p><strong>MEDIA_SUBTITLE</strong>: Subtitle stream inside MEDIA_AV</p>
<blockquote>
Attributes: <cite>language</cite>, <cite>trackno</cite>, <cite>title</cite>, <cite>id</cite></blockquote>
</blockquote>
<p><strong>MEDIA_DISC</strong>: Disc (dvd, audio disc, etc)</p>
<blockquote>
<p>DVD rips on hard-disc in iso file, as directory with a VIDEO_TS
subtree or VCD cue/bin files are also of this type.</p>
<p>Basic disc attributes: <cite>id</cite>, <cite>tracks</cite>, <cite>mixed</cite>, <cite>label</cite></p>
<p>Additional DVD attributes: <cite>length</cite></p>
<p>Additional DVD title (MEDIA_AV) attributes: <cite>angles</cite></p>
</blockquote>
<p><strong>MEDIA_DIRECTORY</strong>: Directory</p>
<blockquote>
Attributes: Core attributes</blockquote>
<p><strong>MEDIA_GAME</strong>: Game file on hard-disc</p>
<blockquote>
Attributes: Core attributes</blockquote>
</div>
<div class="section" id="mminfo">
<h2>mminfo<a class="headerlink" href="#mminfo" title="Permalink to this headline">¶</a></h2>
<p>The module will install the script mminfo. It is a small example for
the module itself and a nice script to parse media files on the
command line.:</p>
<div class="highlight-python"><pre>-&gt; mminfo star-wars-3-teaser.mov
kaa media metadata info
filename : star-wars-3-teaser.mov
Attributes:
        title: Episode III Teaser Trailer
        artist: starwars.com Hyperspace
        type: Quicktime Video
        date: 04/11/04
        media: video
        length: 107
        copyright: Copright (c) 2004 Lucasfilm Ltd.
 Stream list:
   Video Stream:
        length: 107
        codec: SVQ3
        width: 480
        height: 206
   Audio Stream:
        length: 107
        codec: QDM2
        language: en</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">Usage</a><ul>
<li><a class="reference" href="#methods">Methods</a></li>
<li><a class="reference" href="#attributes-keys">Attributes / Keys</a></li>
<li><a class="reference" href="#mminfo">mminfo</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="index.html" title="previous chapter">kaa.metadata</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="parser.html" title="next chapter">Parser</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/usage.txt">Show Source</a></li>
            </ul>
          <h3>Quick search</h3>
            <form class="search" action="search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="parser.html" title="Parser"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="kaa.metadata"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">kaa.metadata v0.7.6 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2003-2008 Dirk Meyer.
      Last updated on Jun 03, 2009.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.5.2.
    </div>
  </body>
</html>